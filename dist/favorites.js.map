{"version":3,"file":"favorites.js","sources":["../src/js/favorites.js"],"sourcesContent":["import '../css/sct-favorites.css';\n\nimport {\n    replaceInnerHtmlWithLoader,\n    removeLoaderFromElement,\n} from './loader.js';\nimport yourEnergy from './api/your-energy-api.js';\nimport { renderUserListExercises } from './exercises.js';\n\nconst favorites = document.querySelector('.favorites');\n\nconst paginationContainer = document.querySelector('.pagination');\nconst exercisesPerPage = screen.width > 767? 10 : 8;\nlet currentPage = 1;\n\nasync function renderExercisesPage(favoritesList, page = 1) {\n    const isDesktopView = window.innerWidth >= 1440;\n\n    let currentExercises;\n\n    if (isDesktopView) {\n        const startIndex = 0;\n        const endIndex = favoritesList.length;\n        currentExercises = favoritesList.slice(startIndex, endIndex);\n    } else {\n        const startIndex = (page - 1) * exercisesPerPage;\n        const endIndex = startIndex + exercisesPerPage;\n        currentExercises = favoritesList.slice(startIndex, endIndex);\n    }\n\n    if (!currentExercises.length) {\n        favorites.innerHTML =\n            \"<p class='no-favorites'>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\";\n        return;\n    }\n    try {\n        const retrievedExercises = await yourEnergy.getExercisesByIdList(\n            currentExercises\n        );\n\n        renderUserListExercises(favorites, retrievedExercises);\n    } finally {\n        removeLoaderFromElement(favorites);\n    }\n}\n\nfunction renderPagination(favoritesList) {\n    const pageCount = Math.ceil(favoritesList.length / exercisesPerPage);\n    let paginationMarkup = '';\n\n    for (let i = 1; i <= pageCount; i++) {\n        paginationMarkup += `\n            <button class=\"pagination-button ${\n                i === currentPage ? 'active' : ''\n            }\" data-page=\"${i}\">\n                ${i}\n            </button>\n        `;\n    }\n\n    paginationContainer.innerHTML = paginationMarkup;\n\n    document.querySelectorAll('.pagination-button').forEach(button => {\n        button.addEventListener('click', () => {\n            currentPage = Number(button.dataset.page);\n            renderExercisesPage(favoritesList, currentPage);\n            renderPagination(favoritesList);\n        });\n    });\n}\n\nfunction renderUserListFavorites(listFavorites) {\n    renderExercisesPage(listFavorites, currentPage);\n    renderPagination(listFavorites);\n}\n\nconst favoritesElement = document.querySelector('.favorites');\n\nif (favoritesElement) {\n    const favoriteExercises = JSON.parse(localStorage.getItem('favorites'));\n\n    if (favoriteExercises && Array.isArray(favoriteExercises)) {\n        replaceInnerHtmlWithLoader(favorites);\n        renderUserListFavorites(favoriteExercises);\n    } else {\n        favorites.innerHTML =\n            \"<p class='no-favorites'>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\";\n    }\n}\n"],"names":["favorites","paginationContainer","exercisesPerPage","currentPage","renderExercisesPage","favoritesList","page","isDesktopView","currentExercises","endIndex","startIndex","retrievedExercises","yourEnergy","renderUserListExercises","removeLoaderFromElement","renderPagination","pageCount","paginationMarkup","i","button","renderUserListFavorites","listFavorites","favoritesElement","favoriteExercises","replaceInnerHtmlWithLoader"],"mappings":"kGASA,MAAMA,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAsB,SAAS,cAAc,aAAa,EAC1DC,EAAmB,OAAO,MAAQ,IAAK,GAAK,EAClD,IAAIC,EAAc,EAElB,eAAeC,EAAoBC,EAAeC,EAAO,EAAG,CACxD,MAAMC,EAAgB,OAAO,YAAc,KAE3C,IAAIC,EAEJ,GAAID,EAAe,CAEf,MAAME,EAAWJ,EAAc,OAC/BG,EAAmBH,EAAc,MAAM,EAAYI,CAAQ,CACnE,KAAW,CACH,MAAMC,GAAcJ,EAAO,GAAKJ,EAC1BO,EAAWC,EAAaR,EAC9BM,EAAmBH,EAAc,MAAMK,EAAYD,CAAQ,CAC9D,CAED,GAAI,CAACD,EAAiB,OAAQ,CAC1BR,EAAU,UACN,4MACJ,MACH,CACD,GAAI,CACA,MAAMW,EAAqB,MAAMC,EAAW,qBACxCJ,CACZ,EAEQK,EAAwBb,EAAWW,CAAkB,CAC7D,QAAc,CACNG,EAAwBd,CAAS,CACpC,CACL,CAEA,SAASe,EAAiBV,EAAe,CACrC,MAAMW,EAAY,KAAK,KAAKX,EAAc,OAASH,CAAgB,EACnE,IAAIe,EAAmB,GAEvB,QAASC,EAAI,EAAGA,GAAKF,EAAWE,IAC5BD,GAAoB;AAAA,+CAEZC,IAAMf,EAAc,SAAW,EAClC,gBAAee,CAAC;AAAA,kBACXA,CAAC;AAAA;AAAA,UAKfjB,EAAoB,UAAYgB,EAEhC,SAAS,iBAAiB,oBAAoB,EAAE,QAAQE,GAAU,CAC9DA,EAAO,iBAAiB,QAAS,IAAM,CACnChB,EAAc,OAAOgB,EAAO,QAAQ,IAAI,EACxCf,EAAoBC,EAAeF,CAAW,EAC9CY,EAAiBV,CAAa,CAC1C,CAAS,CACT,CAAK,CACL,CAEA,SAASe,EAAwBC,EAAe,CAC5CjB,EAAoBiB,EAAelB,CAAW,EAC9CY,EAAiBM,CAAa,CAClC,CAEA,MAAMC,EAAmB,SAAS,cAAc,YAAY,EAE5D,GAAIA,EAAkB,CAClB,MAAMC,EAAoB,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EAElEA,GAAqB,MAAM,QAAQA,CAAiB,GACpDC,EAA2BxB,CAAS,EACpCoB,EAAwBG,CAAiB,GAEzCvB,EAAU,UACN,2MAEZ"}